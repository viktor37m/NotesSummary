# Минимальный средне-взвешанный цикл
**Задача.** Найти такой цикл в графе, средний вес которого будет минимален.

На самом деле граф может быть любым, даже который содержит отрицательный цикл.

Воспользуемся следующим трюком: если ко *всем* рёбрам прибавить какое-то *число*, то среднее значение какого-либо пути или цикла измениться на данное значение. 

Пусть $C$ - минимальный средний вес цикла. Тогда если из цикла вычесть данное значение, стоимость цикла будет равна $0$. Обобщим для какого-то числа $c$, рассмотрим 2 случая:
1. Если $c < -C$, то если прибавить данное число к всем рёбрам графа, то в нём обнаружиться отрицательный цикл.
2. Если $c \ge -C$ то наоборот, ведь не будет цикла стоимости меньше минимального

Выполняется инвариантность, а значит можно сделать бин-поиск по числу $c$. Определять отрицательный цикл можно с помощью Форда-Беллмана.

Итоговая асимптотика: $O(nm \cdot steps)$, где $steps$ - количество шагов, нужное для ответа. Каждый раз точность уменьшается в 2 раза. Например: чтобы уменьшить диапозон в $1000$ раз, нужно $\log_2{1000} \approx 10$ шагов.

Есть также более продвинутый алгоритм, который решается за $O(nm)$.

%% TODO: написать более лучший алгоритм %%